import{c as o,k as q,r as g,l as Z,o as H,h as i,$ as G,w as J,g as B,t as f,a as x,u as p,L as ee,d as te,O as ae,R as v,Q as T,X as N,Y as F,F as re,Z as ne,f as h,U as I,V as R}from"./index-CnqaYsDO.js";import{h as b,Q as ie,d as $}from"./vm-Db-W5vuv.js";import{b as D,u as oe,a as le,Q as j}from"./use-timeout-C_bcMl7j.js";const se={ratio:[String,Number]};function ue(e,n){return o(()=>{const a=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(a)!==!0&&a>0?{paddingBottom:`${100/a}%`}:null})}const ce=1.7778,de=q({name:"QImg",props:{...se,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ce},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:a}){const r=g(e.initialRatio),l=ue(e,r),m=B(),{registerTimeout:w,removeTimeout:s}=D(),{registerTimeout:C,removeTimeout:z}=D(),k=o(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),E=o(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),u=[g(null),g(k.value)],c=g(0),y=g(!1),S=g(!1),V=o(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),M=o(()=>({width:e.width,height:e.height})),O=o(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),K=o(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function A(){if(z(),e.loadingShowDelay===0){y.value=!0;return}C(()=>{y.value=!0},e.loadingShowDelay)}function Q(){z(),y.value=!1}function U({target:t}){$(m)===!1&&(s(),r.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,L(t,1))}function L(t,d){d===1e3||$(m)===!0||(t.complete===!0?W(t):w(()=>{L(t,d+1)},50))}function W(t){$(m)!==!0&&(c.value=c.value^1,u[c.value].value=null,Q(),t.getAttribute("__qerror")!=="true"&&(S.value=!1),a("load",t.currentSrc||t.src))}function X(t){s(),Q(),S.value=!0,u[c.value].value=E.value,u[c.value^1].value=k.value,a("error",t)}function P(t){const d=u[t].value,_={key:"img_"+t,class:O.value,style:K.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...d};return c.value===t?Object.assign(_,{class:_.class+"current",onLoad:U,onError:X}):_.class+="loaded",i("div",{class:"q-img__container absolute-full",key:"img"+t},i("img",_))}function Y(){return y.value===!1?i("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},b(n[S.value===!0?"error":"default"])):i("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[i(ie,{color:e.spinnerColor,size:e.spinnerSize})])}{let t=function(){J(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,d=>{s(),S.value=!1,d===null?(Q(),u[c.value^1].value=k.value):A(),u[c.value].value=d},{immediate:!0})};Z.value===!0?H(t):t()}return()=>{const t=[];return l.value!==null&&t.push(i("div",{key:"filler",style:l.value})),u[0].value!==null&&t.push(P(0)),u[1].value!==null&&t.push(P(1)),t.push(i(G,{name:"q-transition--fade"},Y)),i("div",{key:"main",class:V.value,style:M.value,role:"img","aria-label":e.alt},t)}}}),ge=q({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:n}){const a=o(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>i(e.tag,{class:a.value},b(n.default))}}),fe=q({name:"QCard",props:{...oe,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:n}){const{proxy:{$q:a}}=B(),r=le(e,a),l=o(()=>"q-card"+(r.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>i(e.tag,{class:l.value},b(n.default))}}),me=q({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:a}}=B(),r=x(p,f);if(r===f)return console.error("QPage needs to be a deep child of QLayout"),f;if(x(ee,f)===f)return console.error("QPage needs to be child of QPageContainer"),f;const m=o(()=>{const s=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof e.styleFn=="function"){const C=r.isContainer.value===!0?r.containerHeight.value:a.screen.height;return e.styleFn(s,C)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-s+"px":a.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":a.screen.height-s+"px"}}),w=o(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>i("main",{class:w.value,style:m.value},b(n.default))}}),Se=te({__name:"IndexPage",setup(e){const n=g([]);return H(async()=>{try{const a=await fetch("./products.json");if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);n.value=await a.json()}catch(a){console.error("Failed to fetch products:",a),n.value=[]}}),(a,r)=>(T(),ae(me,{class:"row items-start q-pa-md"},{default:v(()=>[r[0]||(r[0]=N("div",{class:"col-12"},[N("h5",{class:"q-my-md"},"Products")],-1)),(T(!0),F(re,null,ne(n.value,l=>(T(),F("div",{key:l.id,class:"col-xs-12 col-sm-6 col-md-4 q-pa-sm"},[h(fe,null,{default:v(()=>[h(de,{src:l.image,ratio:1},null,8,["src"]),h(ge,null,{default:v(()=>[h(j,{class:"text-subtitle1"},{default:v(()=>[I(R(l.name),1)]),_:2},1024),h(j,{caption:""},{default:v(()=>[I("Price: $"+R(l.price),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1}))}});export{Se as default};
